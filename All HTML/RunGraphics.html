<!DOCTYPE html>

<html>

    <head>
        <title>Skulpt Project For Graphics</title>
        <script src="../dist/skulpt.min.js" type="text/javascript"></script>
        <script src="../dist/skulpt-stdlib.js" type="text/javascript"></script>
        <!--
                to additional JS files to get Graphics module working
        -->
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js" type="text/javascript"></script>
        <script src="Scripts/Graphics.js" type="text/javascript"></script>
        <!--<script src="Scripts/setup.js" type="text/javascript"></script> -->
    </head>

    <body>

        <header>
            <a href="MyFirstModule.html">1. My Module</a>
            <br>
            <a href="RunTurtle.html">2. Turtle Module</a>
            <br>
            <a href="RunProcessing.html">3. Processing Module</a>
            <br>
            <a href="RunGraphics.html">4. Graphics Module</a>
        </header>

        <script type="text/javascript">
            Sk.externalLibraries = {
                graphics: {
                    path: '/MAIN PROJECT/skulpt/All HTML/ExternalSkulptModule/GraphicsWrapper/__init__.js',
                    dependencies: []
                }
            };
            // the above is going to be called setup.js

            // output functions are configurable.  This one just appends some text
            // to a pre element.
            function outf(text) {
                var mypre = document.getElementById("output");
                mypre.innerHTML = mypre.innerHTML + text;
            }

            function builtinRead(x) {
                if (Sk.builtinFiles === undefined || Sk.builtinFiles["files"][x] === undefined)
                    throw "File not found: '" + x + "'";
                return Sk.builtinFiles["files"][x];
            }

            // Here's everything you need to run a python program in skulpt
            // grab the code from your textarea
            // get a reference to your pre element for output
            // configure the output function
            // call Sk.importMainWithBody()
            function runit() {
                var prog = document.getElementById("yourcode").value;
                var mypre = document.getElementById("output");
                mypre.innerHTML = '';
                Sk.pre = "output";
                Sk.configure({output:outf, read:builtinRead});
                Sk.canvas = 'mycanvas';
                var myPromise = Sk.misceval.asyncToPromise(function() {
                    return Sk.importMainWithBody("<stdin>", false, prog, true);
                });
                myPromise.then(function(mod) {
                            console.log('success');
                        },
                        function(err) {
                            console.error(err.toString(), err);
                        });
            }
        </script>

        <h3>Try this only for Graphics.py (Under Major Construction) </h3>

        <form>
            <textarea id="yourcode" cols="70" rows="12">
from graphics import*

def main():
    win = GraphWin("Graphics Window" ,400, 400)
    message = Text(Point(30,40), "Hello, World!")
    message.draw(win)
    #win.close()
main()
            </textarea>
            <br/>
            <button type="button" onclick="runit()">Run</button>
        </form>

        <form> <h1>Just a Place holder (Doesn't Work)</h1>
            <textarea  cols="70" rows="20">
from graphics import*

def main():
    win = GraphWin("title" ,400, 400)
    pCircle = Circle(Point(50,50), 10)
    #pRectangle = Rectangle(Point(50,70), Point(70,100))
    #pLine = Line(Point(20,20), Point(20,100))
    #pOval = Oval(Point(300, 200), Point(120, 80))
    #message = Text(Point(30,40), "Hello, World!")
    #pPoloygon = Polygon(Point(200,10), Point(250,190), Point(160,210))
    #aPoint = Point(3.5, 8)
    pCircle.draw(win)
    #win.close()
main()
            </textarea>
            <br/>
        </form>
        <pre id="output" ></pre>
        <div id="mycanvas"></div>

    </body>
</html>